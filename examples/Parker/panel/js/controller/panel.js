PanelController=Module.controller("PanelController",["$scope","$routeParams",function(t,o){function i(){app.readFile(app.getLocalDir()+"/setting_v3.json").then(function(o){t.setting=JSON.parse(o),t.$apply()},function(){app.writeFile(app.getLocalDir()+"/setting_v3.json",JSON.stringify(n)).then(function(){t.setting=n,t.$apply()})})}function e(){app.writeFile(app.getLocalDir()+"/setting_v3.json",JSON.stringify(t.setting))}t.buttons=[[["position_left_top","边角坐标"],["dimension_both","元素尺寸"],["edge_left","边缘距离"]],[["distance_horizon","相互距离"],["description","文字说明"],["text","文字标注"]],[["style","图层样式"],["padding","内部边距"],["mask","图层遮罩"]]],t.subButtons={position:["position_left_top","position_right_top","position_left_bottom","position_right_bottom"],dimension:["dimension_both","dimension_right","dimension_bottom","dimension_center"],edge:["edge_left","edge_top","edge_right","edge_bottom"],distance:["distance_horizon","distance_vertical"],padding:["padding_left","padding_top","padding_right","padding_bottom"]},t.showLayer="",t.setting={};var n={mark:{foreground:{background:"#FF5C5C"},background:{background:"#FF974A"},style:1,fontSize:12,dpi:"XHDPI",showUnit:1,unit:"PX",link:1,colorType:"HEX"},colorList:["#FF5C5C","#FF974A","#7FE242","#3695FF"],text:{family:!1,size:!0,color:!0,height:!1,shadow:!1,stroke:!1,direction:1},style:{color:!0,opacity:!1,shadow:!1,stroke:!1,radius:!1},mask:{width:0,height:0,opacity:30}};t.action=function(o){var i=o.match(/[a-z]+/)[0],e="";return/_/.test(o)&&(e=o.match(/_(\w+)/)[1]),"description"==o||"padding"==o&&""==e?void t.setLayer(o):(console.log(i+" => ",e),void app.evalScript('parker.action("'+i+'", "'+e+"\", '"+JSON.stringify(t.setting)+"')",function(t){console.log(t)}))},t.addDescription=function(){var o=$("#description-text").val().trim();return""==o?void t.closeLayer():(console.log("description => ",o),o=o.replace(/[\r\n]/g,"*_*"),app.evalScript('parker.action("description", "'+o+"\", '"+JSON.stringify(t.setting)+"')",function(t){console.log(t)}),void t.closeLayer())},t.setLayer=function(o){t.showLayer=o.replace(/_.*/,"")},t.closeLayer=function(){t.showLayer="",e()},t.goSetting=function(){t.$emit("GO_SETTING")},t.goUser=function(){t.$emit("GO_USER")},i(),t.$emit("LOAD_USER_INFO")}]);