Logger=function(t){this.debug=t,this.dir=null,this.file=null,this.logArr=[]},Logger.prototype.init=function(){var t=this;this.dir=app.getLogDir(),this.file=this.dir+"/"+this.getFileName()+".log",app.fileExists(this.file).then(function(){t.logArr.push("--- LOGGER START AT "+(new Date).getTime()+" ---\r\n").flush()},function(){t.add("--- LOGGER START AT "+(new Date).getTime()+" ---").add("OS["+app.getOS()+"]").add("photoshop version: "+app.getPSVersion()).add("network :"+app.isNetConnected()).flush()})},Logger.prototype.getFileName=function(){var t=new Date,e=t.getFullYear(),r=t.getMonth()+1;r=r<10?"0"+r:r;var i=t.getDate();return i=i<10?"0"+i:i,e+r+i},Logger.prototype.getCurrent=function(){var t=new Date,e=t.getMonth()+1;e=e<10?"0"+e:e;var r=t.getDate();r=r<10?"0"+r:r;var i=t.getHours(),o=t.getMinutes(),n=t.getSeconds();return"["+e+"/"+r+" "+i+":"+o+":"+n+"] "},Logger.prototype.add=function(t){return this.debug&&console.log(t),this.logArr.push(this.getCurrent()+t),this},Logger.prototype.flush=function(){if(this.logArr.length>0){var t=app.appendFile(this.file,this.logArr.join("\r\n")+"\r\n");return this.logArr=[],t}};